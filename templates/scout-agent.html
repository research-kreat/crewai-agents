<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scout Agent - API Console</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/scout-agent.css') }}"
    />
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
  </head>
  <body>
    <div class="page-container">
      <header>
        <div class="logo">
          <i class="fas fa-code"></i>
          <h1>API Agent Console</h1>
        </div>
        <nav>
          <button class="back-button" onclick="navigateTo('/')">
            <i class="fas fa-arrow-left"></i> Back to Agents
          </button>
        </nav>
      </header>

      <main class="agent-page">
        <div class="agent-header">
          <div class="agent-icon large">
            <i class="fas fa-search"></i>
          </div>
          <div class="agent-title">
            <h2>Scout Agent</h2>
            <p>Explore and retrieve information</p>
          </div>
        </div>

        <div class="agent-interface">
          <div class="input-section">
            <div class="form-group">
              <label for="scout-prompt">
                Prompt
                <span
                  class="tooltip"
                  data-tooltip="Enter instructions for the Scout Agent"
                >
                  <i class="fas fa-info-circle"></i>
                </span>
              </label>
              <textarea
                id="scout-prompt"
                rows="5"
                placeholder="Describe what you want the Scout Agent to search for..."
              ></textarea>
            </div>

            <div class="form-actions">
              <button
                id="run-button"
                class="primary-button"
                onclick="sendScoutQuery()"
              >
                <i class="fas fa-play"></i> Run Query
              </button>
              <button class="secondary-button" onclick="clearForm()">
                <i class="fas fa-eraser"></i> Clear
              </button>
            </div>

            <!-- Console Log Panel -->
            <div class="console-log-panel">
              <div class="console-header">
                <h3>Process Log</h3>
                <button class="log-clear-btn" onclick="clearLogs()">
                  Clear Logs
                </button>
              </div>
              <div id="console-log" class="console-log">
                <div class="log-message system" style="margin: 0px;"><span class="log-timestamp">System</span> Scout Agent ready to process queries
                </div>
              </div>
            </div>
          </div>

          <div class="response-section">
            <div class="response-header">
              <h3>Json Results</h3>
              <div class="controls">
                <button
                  class="icon-button"
                  onclick="copyResponse()"
                  title="Copy to clipboard"
                >
                  <i class="fas fa-copy"></i>
                </button>
              </div>
            </div>

            <div id="loading" class="loading hidden">
              <div class="spinner"></div>
              <p>Scout is searching...</p>
            </div>

            <div id="scout-response" class="response-content">
              <div class="placeholder-message">
                <i class="fas fa-search"></i>
                <p>Enter a prompt and click Run Query to see results</p>
              </div>
            </div>
          </div>

          <section id="response-box" class="response-box">
            <h4>Response to user prompt:</h4>
            <p id="response_to_user_prompt"></p>

            <h4>Notes:</h4>
            <p id="notes"></p>

            <h4>Message:</h4>
            <p id="message"></p>

            <h4>Trend Summary:</h4>
            <p id="trend_summary"></p>

            <h4>Data Status:</h4>
            <p id="isData"></p>

            <h4>Insights:</h4>
            <p id="insights"></p>

            <h4>Recommendations:</h4>
            <p id="recommendations"></p>

            <h4>Relevant Trends:</h4>
            <div id="relevant-trends"></div>
          </section>
        </div>
      </main>
    </div>

  </body>
</html>
